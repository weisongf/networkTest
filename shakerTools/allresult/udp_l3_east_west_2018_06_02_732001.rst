.. _openstack_l3_east_west_udp:

OpenStack L3 East-West UDP
**************************

In this scenario Shaker launches pairs of instances, each instance on its own
compute node. Instances are connected to one of 2 tenant networks, which
plugged into single router. The traffic goes from one network to the other (L3
east-west). The load is generated by UDP traffic.

**Scenario**:

.. code-block:: yaml

    deployment:
      accommodation:
      - pair
      - single_room
      template: l3_east_west.hot
    description: In this scenario Shaker launches pairs of instances, each instance on
      its own compute node. Instances are connected to one of 2 tenant networks, which
      plugged into single router. The traffic goes from one network to the other (L3 east-west).
      The load is generated by UDP traffic.
    execution:
      progression: quadratic
      tests:
      - bandwidth: 1000M
        class: iperf3
        datagram_size: 32
        title: UDP
        udp: true
    file_name: /root/shaker/lib/python2.7/site-packages/shaker/scenarios/openstack/udp_l3_east_west.yaml
    title: OpenStack L3 East-West UDP

**Errors**:

.. code-block:: yaml

    id: da8298d7-c351-4e2a-ae1e-c99752141b4d
    scenario: OpenStack L3 East-West UDP
    status: error
    stderr: 'Error while executing scenario: Agents failed to join: {''shaker_meorzt_slave_2'':
      ''lost'', ''shaker_meorzt_master_1'': ''lost'', ''shaker_meorzt_slave_4'': ''lost'',
      ''shaker_meorzt_slave_5'': ''lost'', ''shaker_meorzt_master_4'': ''lost'', ''shaker_meorzt_master_5'':
      ''lost'', ''shaker_meorzt_master_2'': ''lost'', ''shaker_meorzt_slave_1'': ''lost'',
      ''shaker_meorzt_master_0'': ''lost'', ''shaker_meorzt_slave_3'': ''lost'', ''shaker_meorzt_slave_0'':
      ''lost'', ''shaker_meorzt_master_3'': ''lost''}'

