.. _openstack_l3_north_south_udp:

OpenStack L3 North-South UDP
****************************

In this scenario Shaker launches pairs of instances on different compute nodes.
Instances are in different networks connected to different routers, master
accesses slave by floating ip. The traffic goes from one network via external
network to the other network. The load is generated by UDP traffic.

**Scenario**:

.. code-block:: yaml

    deployment:
      accommodation:
      - pair
      - single_room
      template: l3_north_south.hot
    description: In this scenario Shaker launches pairs of instances on different compute
      nodes. Instances are in different networks connected to different routers, master
      accesses slave by floating ip. The traffic goes from one network via external network
      to the other network. The load is generated by UDP traffic.
    execution:
      progression: quadratic
      tests:
      - bandwidth: 1000M
        class: iperf3
        datagram_size: 32
        title: UDP
        udp: true
    file_name: /root/shaker/lib/python2.7/site-packages/shaker/scenarios/openstack/udp_l3_north_south.yaml
    title: OpenStack L3 North-South UDP

**Errors**:

.. code-block:: yaml

    id: d0c1c376-f5be-4ccf-bbb8-3a9f9f253903
    scenario: OpenStack L3 North-South UDP
    status: error
    stderr: 'Error while executing scenario: Agents failed to join: {''shaker_psmzui_slave_3'':
      ''lost'', ''shaker_psmzui_slave_2'': ''lost'', ''shaker_psmzui_slave_1'': ''lost'',
      ''shaker_psmzui_slave_0'': ''lost'', ''shaker_psmzui_slave_5'': ''lost'', ''shaker_psmzui_slave_4'':
      ''lost''}'

