.. _openstack_l3_north_south:

OpenStack L3 North-South
************************

In this scenario Shaker launches pairs of instances on different compute nodes.
All available compute nodes are utilized. Instances are in different networks
connected to different routers, master accesses slave by floating ip. The
traffic goes from one network via external network to the other network.

**Scenario**:

.. code-block:: yaml

    deployment:
      accommodation:
      - pair
      - single_room
      template: l3_north_south.hot
    description: In this scenario Shaker launches pairs of instances on different compute
      nodes. All available compute nodes are utilized. Instances are in different networks
      connected to different routers, master accesses slave by floating ip. The traffic
      goes from one network via external network to the other network.
    execution:
      progression: quadratic
      tests:
      - class: flent
        method: tcp_download
        title: Download
      - class: flent
        method: tcp_upload
        title: Upload
      - class: flent
        method: tcp_bidirectional
        title: Bi-directional
    file_name: /root/shaker/lib/python2.7/site-packages/shaker/scenarios/openstack/full_l3_north_south.yaml
    title: OpenStack L3 North-South

**Errors**:

.. code-block:: yaml

    id: 78a9193d-f630-4b1d-babe-f04070f4b50d
    scenario: OpenStack L3 North-South
    status: error
    stderr: 'Error while executing scenario: Agents failed to join: {''shaker_ptrfok_slave_5'':
      ''lost'', ''shaker_ptrfok_slave_4'': ''lost'', ''shaker_ptrfok_slave_1'': ''lost'',
      ''shaker_ptrfok_slave_0'': ''lost'', ''shaker_ptrfok_slave_3'': ''lost'', ''shaker_ptrfok_slave_2'':
      ''lost''}'

